<!DOCTYPE HTML>
<html>
<head>
	<title>Welcome to TeamWatch!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="hw4_login.min.css">
</head>
<body>
	<h1>TeamWatch</h1>
	<div id="login">
		Email:<br>
		<input type="text" name="email" id="email">
		<br>
		Password:<br>
		<input type="password" name="pw" id="pw">
		<br><br>
		<input type="submit" onclick="loginUser()" value="Log in">
	</div>
	<script src="firebase_and_firestore.js.gz"></script>
	<script src="data-roster.min.js"></script>
<!--
	<script src="https://www.gstatic.com/firebasejs/4.7.0/firebase.js"></script>
	<script>
  	// Initialize Firebase
  		var config = {
    			apiKey: "AIzaSyASJCB6FqMc6FiroJGWAHViOdLiI1eGHYk",
    			authDomain: "catwebsite-7bf63.firebaseapp.com",
    			databaseURL: "https://catwebsite-7bf63.firebaseio.com",
    			projectId: "catwebsite-7bf63",
    			storageBucket: "catwebsite-7bf63.appspot.com",
    			messagingSenderId: "505732270795"
  		};
  		firebase.initializeApp(config);
	</script>
-->
<script>
  function loginUser() {
    var a = document.getElementById("email").value;
    var b = document.getElementById("pw").value;
    firebase.auth().signInWithEmailAndPassword(a,b).then(function() {
      window.location.assign("hw4_home.html");
    })
    .catch(function(error) {
      var errorCode = error.code;
      var errorMsg = error.message;
      if(errorCode == 'auth/wrong-password') {
        console.log('Incorrect password');
      } else {
        console.log(errorMsg);
      }
      console.log(error);
    });

  }
</script>
	<br><br><br>

	<form action="hw4_forgot.html" name="forgot">
		Forgot your username/password?<br>
		<input type="submit" value="Forgot password?">
	</form>

	<br><br>

	<form action="hw4_register.html" name="register">
		New user? Sign up now!<br>
		<input type="submit" value="Register">
	</form>
</body>
</html>
