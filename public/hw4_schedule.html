<!--
schedule.html
File size: 2KB
Load time: 359ms to paint
 -->

<!DOCTYPE HTML>
<html>
<head>
	<title>Schedule</title>
	<link rel="stylesheet" href="hw4_schedule.css">
</head>
<body>
	<p>
    <a href="http://jigsaw.w3.org/css-validator/check/referer">
        <img style="border:0;width:88px;height:31px"
            src="http://jigsaw.w3.org/css-validator/images/vcss"
            alt="Valid CSS!" />
    </a>
    </p>
    <p>
   <a href="https://validator.w3.org/check?uri=referer"><img
       src="http://www.w3.org/Icons/valid-xhtml10"
       alt="Valid XHTML 1.0!" height="31" width="88" /></a>
</p>
	<div class="matchLog" id="matchLog">
		<h1>Schedule</h1>
  	<ol id="view">
		</ol>
		<div style="padding:10% 0">
		<button onclick="createAndUpdate()" id="newmatch">New Match</button>
		</div>
	</div>
	<footer>
		<hr>
		<ul>
		 <li><a href="home.html">Home</a></li>
		 <li><a href="roster1.html">Roster</a></li>
		 <li><a href="hw4_schedule.html">Schedule</a></li>
		</ul>
	</footer>


<script src="data-roster.js"></script>

	<script>
		var scheduleRender = function(){
			let view = document.querySelector('#view');
			view.innerHTML = "";
			for(idnumber in getSchedule()){
				let scheduledGame = getSchedule()[idnumber];
				let insideParagraph = document.createElement('p');
				if(scheduledGame.practice){
						insideParagraph.innerHTML = "Practice " + scheduledGame.date + " " + scheduledGame.time;
				}
				else{
					insideParagraph.innerHTML = "VS " + scheduledGame.enemyTeam + "&nbsp;" + scheduledGame.date + "&nbsp;" + scheduledGame.time;
				}
				let pageForm = document.createElement('form');
				pageForm.action = "hw4_gamestats.html";
				pageForm.method = "GET";
				pageForm.innerHTML = "<input type='hidden' name='matchID' value= '" + idnumber + "'>";
				let linkToGamePage = document.createElement('input');
				linkToGamePage.type = "submit";
				linkToGamePage.value = "Overview";
				//linkToGamePage.href = "gamestats/" + scheduledGame.id + ".html";
				//linkToGamePage.innerHTML = "Overview";
				pageForm.appendChild(linkToGamePage);
				//insideParagraph.appendChild(pageForm);
				let gameElement = document.createElement('li');
				gameElement.appendChild(insideParagraph);
				gameElement.appendChild(pageForm);
				if(scheduledGame.finished){
					if(scheduledGame.won){
						gameElement.className = "matchWon";
					}
					else{
						gameElement.className = "matchLost";
					}
				}
				view.appendChild(gameElement);
			}
		};
		scheduleRender();
		var createAndUpdate = function(){
			createGame();
			scheduleRender();
		};
	</script>

</body>
</html>
